(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,a){e.exports=a(194)},192:function(e,t,a){},194:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l);a(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(42),o=a(37),c=a(14),u=a(16),m=a(19),d=a(18),p=a(20),h=a(242),g=a(235),f=a(267),E=a(239),b=a(268),v=a(244),y=a(243),w=a(233),j=a(117),O=a.n(j),S=a(245),k=a(246),C=a(247),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){O.a.post("/register",a.state).then(function(e){console.log(e)}).then(function(e){a.setState({showDialogue:!0})})},a.state={username:null,password:null,showDialogue:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:"papers"},r.a.createElement("div",{className:"form"},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(E.a,{control:r.a.createElement(b.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(h.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:"submit",onClick:this.handleSubmit},"Sign Up"),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0},r.a.createElement(v.a,{component:s.b,to:"/signin",variant:"body2"},"Sign in")))))),r.a.createElement(S.a,{open:this.state.showDialogue,onClose:function(t){return e.setState({showDialogue:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(k.a,{id:"alert-dialog-title"},"You have successfully registered."),r.a.createElement(C.a,null,r.a.createElement(h.a,{onClick:function(t){return e.setState({showDialogue:!1})},color:"primary"},"Ok"))))}}]),t}(r.a.Component),T=a(32),N=a.n(T),B=a(51),P=a(30),D=a.n(P),A="localhost:8084",W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).authenticate=function(){var e=Object(B.a)(N.a.mark(function e(t){var a,n,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=A+"/login",n=function(){return a.startsWith("localhost")?"http://":""},e.next=4,fetch(n()+a,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(function(e){return console.log(e.body),e});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){var t={username:a.state.username,password:a.state.password};a.authenticate(t).then(function(e){D.a.set("dm874_jwt",e.payload),a.setState({loggedIn:!0})})},a.state={username:null,password:null,loginError:null,loggedIn:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return this.state.loggedIn?r.a.createElement(o.a,{to:"/home"}):r.a.createElement(w.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:"papers"},r.a.createElement("div",{className:"form"},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Email",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(E.a,{control:r.a.createElement(b.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(h.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:"submit",onClick:this.handleSubmit},"Sign In"),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0},r.a.createElement(v.a,{component:s.b,to:"/register",variant:"body2"},"Don't have an account? Sign Up"))))))}}]),t}(r.a.Component),I=a(270),F=a(265),M=a(250),L=a(59),R=a(202),U=a(252),H=a(248),q=a(249),G=a(253),Q=a(251),J=new function e(){var t=this;Object(c.a)(this,e),this.a=null,this.listeners=new Map,this.get=function(){return t.a},this.set=function(e){if(null===t.a){console.log("Creating new websocket");var a=e();a.onmessage=function(e){t.listeners.forEach(function(t){return t(e.data)})},t.a=a}},this.registerHandler=function(e,a){t.listeners.set(e,a)},this.send=function(e){null!==t.a&&t.a.send(e)}},_=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e)),J.registerHandler(0,function(e){try{var t=JSON.parse(e);if("ReceiveMessage"===t.$type){var n=a.state.users.find(function(e){return e.id==t.senderId}),r=void 0===n?"Unknown":n.name;a.setState({messages:a.state.messages.concat([{sender:r,message:t.msg}])})}}catch(l){}}),a.getUsers().then(function(e){var t=e.map(function(e){return{id:e[0],name:e[1]}});a.setState({users:t})}),a.state={uploadingFile:!1,name:"Test",newMessage:!0,message:"",messages:[],users:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getUsers",value:function(){var e=Object(B.a)(N.a.mark(function e(){var t,a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=A+"/users",a=function(){return t.startsWith("localhost")?"http://":""},e.next=4,fetch(a()+t,{method:"GET"}).then(function(e){return e});case 4:return n=e.sent,e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"newMessageField",value:function(){var e=this;return this.state.newMessage?r.a.createElement(F.a,{margin:3},r.a.createElement(f.a,{id:"outlined-basic",label:"New message",variant:"outlined",fullWidth:!0,onChange:function(t){return e.setState({message:t.target.value})}}),r.a.createElement(F.a,{p:1}),r.a.createElement(h.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(t){var a=e.state.messages.concat([{message:e.state.message,sender:"You"}]);e.setState({messages:a});var n={$type:"SendMessage",message:e.state.message,destinationUsers:e.state.users.map(function(e){return e.id})};J.send(JSON.stringify(n))}},"Send")):null}},{key:"getTableRows",value:function(){return this.state.messages.map(function(e,t){return r.a.createElement(H.a,{key:t},r.a.createElement(q.a,{align:"left"},e.sender),r.a.createElement(q.a,{align:"left"},e.message))})}},{key:"render",value:function(){var e=this,t=this.newMessageField();return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(y.a,{container:!0,spacing:5},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"Chat"),r.a.createElement(F.a,{paddingTop:2}),r.a.createElement(Q.a,null),r.a.createElement(F.a,{paddingTop:4}),r.a.createElement(w.a,{maxWidth:"xl"},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(F.a,{paddingTop:1}),r.a.createElement(M.a,null,r.a.createElement(U.a,null,r.a.createElement(G.a,null,r.a.createElement(H.a,null,r.a.createElement(q.a,{align:"left"},"Name"),r.a.createElement(q.a,{align:"left"},"Message"))),this.getTableRows()),t)))))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"Upload file"),r.a.createElement(F.a,{paddingTop:2}),r.a.createElement(Q.a,null),r.a.createElement(F.a,{paddingTop:4}),r.a.createElement(F.a,{paddingLeft:4,paddingRight:4},r.a.createElement("input",{accept:"image/*",className:"submit",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(t){var a=t.target.files;if(null!==a){e.setState({uploadingFile:!0});var n=a.item(0);if(null!==n){var r=new FileReader;r.readAsArrayBuffer(n),r.onloadend=function(e){if(null!==r.result){console.log("abc");var t=r.result,a=new Int8Array(t),n=[];a.forEach(function(e){n.push(e)});var l={$type:"UploadHandlerSnippet",fileData:n},i=JSON.stringify(l);console.log("Sending with "+n.length.toString()),J.send(i)}}}else e.setState({uploadingFile:!1})}}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(h.a,{variant:"contained",component:"span",className:"submit",fullWidth:!0,color:"primary"},"Upload")))))))}}]),t}(r.a.Component),V=Object(R.a)(function(e){return Object(I.a)({root:{flexGrow:1},card:{paddingBottom:50},title:{textAlign:"center",marginTop:20,marginBottom:5},paper:{}})})(_),z=(a(192),function(){var e=P.get("dm874_jwt");return void 0!==e&&0!==e.length?r.a.createElement(o.a,{to:"/home"}):r.a.createElement(o.a,{to:"/signin"})}),$=a(119),Y=a.n($),K=a(120),X=a.n(K),Z=a(121),ee=a.n(Z),te=a(257),ae=a(131),ne=a(254),re=Object(ae.a)({palette:{background:{default:ne.a[500],paper:ne.a[500]}}}),le=a(255),ie=a(269),se=a(238),oe=a(198),ce=a(258),ue=a(259),me=a(256),de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).logout=function(){P.remove("dm874_jwt")},a.state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.classes.outerRoot},r.a.createElement(le.a,{position:"sticky",className:this.props.classes.appBar},r.a.createElement(me.a,{className:this.props.classes.toolbar},r.a.createElement(L.a,{color:"inherit","aria-label":"Menu",align:"center"},"DM874-chat"))),r.a.createElement("nav",{className:this.props.classes.drawer},r.a.createElement(ie.a,{variant:"permanent",anchor:"left",classes:{paper:this.props.classes.drawerPaper}},r.a.createElement(te.a,{theme:re},r.a.createElement(Q.a,null),r.a.createElement(se.a,null,r.a.createElement(oe.a,{button:!0,key:"Home",component:s.b,to:"/home"},r.a.createElement(ce.a,null,r.a.createElement(Y.a,{color:"primary"})),r.a.createElement(ue.a,{primary:r.a.createElement(L.a,{variant:"body1",align:"justify"},"Home")})),r.a.createElement(oe.a,{button:!0,key:"Settings",component:s.b,to:"/settings"},r.a.createElement(ce.a,null,r.a.createElement(X.a,{color:"primary"})),r.a.createElement(ue.a,{primary:r.a.createElement(L.a,{variant:"body1",align:"justify"},"Instillinger")}))),r.a.createElement(Q.a,null),r.a.createElement(se.a,null,r.a.createElement(oe.a,{button:!0,key:"Logout",onClick:this.logout,component:s.b,to:"/"},r.a.createElement(ce.a,null,r.a.createElement(ee.a,{color:"primary"})),r.a.createElement(ue.a,{primary:r.a.createElement(L.a,{variant:"body1",align:"justify"},"Log ud")})))))),r.a.createElement("div",{className:this.props.classes.content},this.props.child))}}]),t}(r.a.Component);de.defaultProps={child:void 0};var pe=Object(R.a)(function(e){return Object(I.a)({outerRoot:{},root:{display:"flex"},appBar:{height:65},toolbar:{textAlign:"center"},drawer:{width:300,flexShrink:0},drawerPaper:{marginTop:65,width:300},content:{flexGrow:1,marginLeft:340,marginTop:65,marginRight:40}})})(de),he=a(262),ge=a(101),fe=a(132),Ee=a(86),be=a(97),ve=a(133),ye=a(2),we=a(130),je=a(195),Oe=a(8),Se=a(261),ke=a(241),Ce=a(273),xe=a(260),Te=a(122),Ne=a.n(Te),Be=Object(je.a)(function(e){return Object(I.a)({root:{flexGrow:1},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(Oe.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(1)}})});function Pe(e){var t=e.inputRef,a=Object(ve.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var De={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,l=e.selectProps,i=l.classes,s=l.TextFieldProps;return r.a.createElement(f.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:Pe,inputProps:Object(be.a)({className:i.input,ref:n,children:t},a)}},s))},Menu:function(e){return r.a.createElement(ge.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return r.a.createElement(Ce.a,{tabIndex:-1,label:e.children,className:Object(ye.a)(e.selectProps.classes.chip,Object(Ee.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:r.a.createElement(Ne.a,e.removeProps)})},NoOptionsMessage:function(e){return r.a.createElement(L.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(xe.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){var t=e.selectProps,a=e.innerProps,n=void 0===a?{}:a,l=e.children;return r.a.createElement(L.a,Object.assign({color:"textSecondary",className:t.classes.placeholder},n),l)},SingleValue:function(e){return r.a.createElement(L.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function Ae(e){var t=Be(),a=Object(Se.a)(),n=r.a.useState(null),l=Object(fe.a)(n,2),i=l[0],s=l[1],o=e.choices.map(function(e){return{value:e,label:e}});var c={input:function(e){return Object(be.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return r.a.createElement("div",{className:t.root},r.a.createElement(ke.a,null,r.a.createElement(we.a,{classes:t,styles:c,inputId:"react-select-single",TextFieldProps:{label:e.label,InputLabelProps:{htmlFor:"react-select-single",shrink:!0}},placeholder:"Select",options:o,components:De,value:i,onChange:function(t){e.onSelect(t.value),s(t)},maxMenuHeight:150}),r.a.createElement("div",{className:t.divider})))}var We=a(263),Ie=window.location.host,Fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={searchString:"",resultTable:[[],[]],isLoading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fetchByUser",value:function(e){var t=this;new Promise(function(e){return setTimeout(e,1e3)}).then(function(e){t.setState({resultTable:[["Valdemar Grange","sagra16","-114","Indbetaling: kr. 100 via MobilePay, 24-04-2019 09:34"],[[new Date(Date.now()).toLocaleDateString(),"42","55","Indbetaling: kr. 100 via MobilePay, 24-04-2019 09:34"],[new Date(Date.now()).toLocaleDateString(),"66","102","Indbetaling: kr. 100 via MobilePay, 24-04-2019 09:34"]]],isLoading:!1})})}},{key:"renderConditionalTable",value:function(){return this.state.isLoading?r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(F.a,{justifyContent:"center",m:2},r.a.createElement(We.a,null))),r.a.createElement(F.a,{paddingBottom:5})):r.a.createElement("div",null,r.a.createElement(F.a,{paddingTop:4}),r.a.createElement(U.a,null,r.a.createElement(G.a,null,r.a.createElement(H.a,null,this.props.topTableHead.map(function(e,t){return r.a.createElement(q.a,{align:"left",key:t},e)}))),r.a.createElement(he.a,null,r.a.createElement(H.a,null,this.state.resultTable[0].map(function(e,t){return r.a.createElement(q.a,{align:"left",key:t},e)}))),r.a.createElement(G.a,null,r.a.createElement(H.a,null,this.props.bottomTableHead.map(function(e,t){return r.a.createElement(q.a,{align:"left",key:t},e)}))),r.a.createElement(he.a,null,this.state.resultTable[1].map(function(e,t){return r.a.createElement(H.a,{key:t},e.map(function(e,t){return r.a.createElement(q.a,{align:"left",key:t},e)}))}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(F.a,{paddingBottom:3}),r.a.createElement(ge.a,{className:this.props.classes.root},r.a.createElement(Ae,{label:"Brugernavn",choices:this.props.emails,onSelect:function(t){e.setState({isLoading:!0}),e.fetchByUser(t)}})),this.renderConditionalTable(),r.a.createElement(F.a,{paddingBottom:10}))}}]),t}(r.a.Component),Me=Object(R.a)(function(e){return Object(I.a)({root:{padding:5,paddingLeft:10,paddingRight:10},card:{paddingBottom:50},title:{textAlign:"center",marginTop:20,marginBottom:5},input:{flex:1}})})(Fe),Le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isLoading:!1,emails:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"loadRender",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(F.a,{justifyContent:"center",m:2},r.a.createElement(We.a,null))),r.a.createElement(F.a,{paddingBottom:5}))}},{key:"componentDidMount",value:function(){var e=this;new Promise(function(e){return setTimeout(e,1e3)}).then(function(t){e.setState({isLoading:!1,emails:["sagra16","anmor16","mkris16","gajen16"]})})}},{key:"render",value:function(){return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(y.a,{container:!0,spacing:5},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"K\xf8b"),r.a.createElement(w.a,{maxWidth:"lg"},this.state.isLoading?this.loadRender():r.a.createElement(Me,{endpoint:"purchases",emails:this.state.emails,topTableHead:["Navn","Email","Saldo"],bottomTableHead:["Dato","Total bel\xf8b","Type","Status","K\xf8bs metode","Antal"]})))),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"Indbetalinger"),r.a.createElement(w.a,{maxWidth:"lg"},this.state.isLoading?this.loadRender():r.a.createElement(Me,{endpoint:"transactions",emails:this.state.emails,topTableHead:["Navn","Email","Saldo"],bottomTableHead:["Dato","Bel\xf8b","Status","Type"]}))))))}}]),t}(r.a.Component),Re=Object(R.a)(function(e){return Object(I.a)({root:{flexGrow:1},card:{paddingBottom:50},title:{textAlign:"center",marginTop:20,marginBottom:5}})})(Le),Ue=a(124),He=a(126),qe=a(264),Ge=a(98),Qe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={startDate:new Date(Date.now()),endDate:new Date(Date.now()),chartData:[],isLoading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fetchByDate",value:function(){var e=this,t=window.location.host,a=P.get("dm874_jwt"),n={startDate:this.state.startDate.toLocaleDateString(),endDate:this.state.endDate.toLocaleDateString()};fetch(t+"/admin/economy",{headers:{dm874_jwt:a},method:"post",body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(t){e.setState({chartData:t.chartData,isLoading:!1})})}},{key:"renderChartConditionally",value:function(){if(this.state.isLoading)return r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(F.a,{justifyContent:"center",m:2},r.a.createElement(We.a,null)));if(0===this.state.chartData.length)return null;var e=this.state.chartData.map(function(e){return e[0]}),t=this.state.chartData.map(function(e){return e[1]}),a=t[0].map(function(a,n){return[n].concat(e.map(function(e,a){return t[a][n]}))});console.log(a);return r.a.createElement(Ue.a,{height:"400px",chartType:"LineChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[].concat([["x"].concat(e)]).concat(a),options:{hAxis:{title:"Dato"},vAxis:{title:"Sum"},series:{0:{curveType:"function"},1:{curveType:"function"},2:{curveType:"function"}}},rootProps:{"data-testid":"1"}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(F.a,{paddingBottom:2}),r.a.createElement(y.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(He.b,{utils:Ge.a},r.a.createElement(qe.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Start dato",value:this.state.startDate,onChange:function(t){null!==t&&e.state.endDate?(e.setState({startDate:t,isLoading:!0}),e.fetchByDate()):e.setState({startDate:t})}})),r.a.createElement(He.b,{utils:Ge.a},r.a.createElement(qe.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Slut dato",value:this.state.endDate,onChange:function(t){null!==t&&e.state.startDate?(e.setState({endDate:t,isLoading:!0}),e.fetchByDate()):e.setState({endDate:t})}}))),this.renderChartConditionally())}}]),t}(r.a.Component),Je=Object(R.a)(function(e){return Object(I.a)({root:{flexGrow:1},card:{paddingBottom:50},title:{textAlign:"center",marginTop:20,marginBottom:5}})})(Qe),_e=a(237),Ve=a(271),ze=a(266),$e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).elems=[["Blacklisted people","/admin/query/blacklisted",a.getBlacklistedField()],["Query on 'Transactions'","/admin/query/transactions",a.getManualQueryField()]],a.state={selectedIndex:"",inputField:"",isLoading:!1,tableHead:null,tableBody:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fetchQueryResult",value:function(e){var t=this,a=["First col","Second col","Third col"],n=[["11","12","13"],["21","22","23"],["31","32","33"]];new Promise(function(e){return setTimeout(e,1e3)}).then(function(e){t.setState({tableHead:a,tableBody:n,isLoading:!1})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(F.a,{paddingTop:4}),r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement("form",{className:this.props.classes.root,autoComplete:"off"},r.a.createElement(_e.a,{className:this.props.classes.formControl},r.a.createElement(Ve.a,{htmlFor:"query"},"Type"),r.a.createElement(ze.a,{value:this.state.selectedIndex,onChange:function(t){e.setState({selectedIndex:t.target.value,inputField:"",tableHead:null,tableBody:null})},inputProps:{name:"query",id:"query"}},this.elems.map(function(e,t){return r.a.createElement(xe.a,{value:t+1,key:t},e[0])}))))),r.a.createElement(F.a,{paddingTop:3}),this.getDescription(),this.conditionalComponent())}},{key:"tableFromData",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(F.a,{paddingBottom:4}),r.a.createElement(U.a,null,r.a.createElement(G.a,null,r.a.createElement(H.a,null,e.map(function(e,t){return r.a.createElement(q.a,{key:t},e)}))),r.a.createElement(G.a,null,t.map(function(e){return r.a.createElement(H.a,null,e.map(function(e){return r.a.createElement(q.a,null,e)}))}))))}},{key:"conditionalComponent",value:function(){return this.state.isLoading?r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(F.a,{justifyContent:"center",m:2},r.a.createElement(We.a,null))):null===this.state.tableBody||null===this.state.tableHead?null:r.a.createElement(w.a,{maxWidth:"lg"},this.tableFromData(this.state.tableHead,this.state.tableBody))}},{key:"getManualQueryField",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(L.a,{variant:"subtitle1",gutterBottom:!0},"Predicate to apply to query \"SELECT * FROM transactions WHERE 'YOUR_PREDICATE';\"")),r.a.createElement(F.a,{paddingTop:1}),r.a.createElement(f.a,{key:"getManualQueryField",id:"getManualQueryField",label:"Predicate",fullWidth:!0,onChange:function(t){return e.setState({inputField:t.target.value})}}),r.a.createElement(F.a,{paddingTop:4}))}},{key:"getBlacklistedField",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(L.a,{variant:"subtitle1",gutterBottom:!0},"People whose balance meets the condition n >= are shown")),r.a.createElement(F.a,{paddingTop:1}),r.a.createElement(f.a,{key:"getBlacklistedField",id:"getBlacklistedField",label:"Condition",fullWidth:!0,onChange:function(t){return e.setState({inputField:t.target.value})}}),r.a.createElement(F.a,{paddingTop:4}))}},{key:"getDescription",value:function(){var e=this;if(""===this.state.selectedIndex)return null;var t=this.elems[Number(this.state.selectedIndex)-1];if(t){var a=t[2];return r.a.createElement("div",null,a,r.a.createElement(h.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){e.setState({isLoading:!0}),e.fetchQueryResult(t[1])}},"Query"))}return null}}]),t}(r.a.Component),Ye=Object(R.a)(function(e){return Object(I.a)({root:{display:"flex",flexWrap:"wrap"},card:{paddingBottom:50},formControl:{minWidth:200},title:{textAlign:"center",marginTop:20,marginBottom:5}})})($e),Ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(y.a,{container:!0,spacing:5},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"\xd8konomi"),r.a.createElement(w.a,{maxWidth:"lg"},r.a.createElement(Je,null)))),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"Query"),r.a.createElement(w.a,{maxWidth:"lg"},r.a.createElement(Ye,null))))))}}]),t}(r.a.Component),Xe=Object(R.a)(function(e){return Object(I.a)({root:{flexGrow:1},card:{paddingBottom:50},title:{textAlign:"center",marginTop:20,marginBottom:5}})})(Ke),Ze=a(240),et=a(129),tt=a.n(et),at=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isLoadingUsers:!0,passwordChanged:!1,passwordChanging:!1,oldPassword:null,newPassword:null,showAddAsAdminButton:!1,addAdminUser:null,users:[],admins:[],changePasswordMessage:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise(function(e){return setTimeout(e,250)}).then(function(t){return e.setState({users:["sagra16","anmor16","mkris16","gajen16"],admins:[],isLoadingUsers:!1})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(y.a,{container:!0,spacing:5},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"Indstillinger"),r.a.createElement(w.a,{maxWidth:"lg"},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"oldpassword",label:"Old password",name:"oldpassword",autoFocus:!0,type:"password",onChange:function(t){return e.setState({oldPassword:t.target.value})}}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"newpassword",label:"New password",type:"password",id:"newpassword",onChange:function(t){return e.setState({newPassword:t.target.value})}}),r.a.createElement(F.a,{paddingBottom:2}),r.a.createElement(h.a,{type:"button",disabled:this.state.passwordChanging,fullWidth:!0,variant:"contained",color:"primary",className:"submit",onClick:function(t){return e.changePassword()}},"Change password"),r.a.createElement(F.a,{paddingBottom:3}),!1===this.state.passwordChanging?null:r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(F.a,{justifyContent:"center",m:2},r.a.createElement(We.a,null))),""===this.state.changePasswordMessage?null:r.a.createElement(L.a,{variant:"h2",className:this.props.classes.title},this.state.changePasswordMessage)))),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(M.a,{className:this.props.classes.card},r.a.createElement(L.a,{variant:"h4",className:this.props.classes.title},"Administratore"),r.a.createElement(w.a,{maxWidth:"lg"},!0===this.state.isLoadingUsers?r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(F.a,{justifyContent:"center",m:2},r.a.createElement(We.a,null))):r.a.createElement("div",null,r.a.createElement(F.a,{paddingTop:2}),r.a.createElement(U.a,null,r.a.createElement(G.a,null,r.a.createElement(q.a,{align:"left"},"Navn"),r.a.createElement(q.a,{align:"left"},"Brugernavn"),r.a.createElement(q.a,{align:"left"})),r.a.createElement(G.a,null,this.state.admins.map(function(t){return r.a.createElement(H.a,null,r.a.createElement(q.a,{align:"left"},t),r.a.createElement(q.a,{align:"left"},t),r.a.createElement(q.a,{align:"left"},r.a.createElement(Ze.a,{"aria-label":"delete"},r.a.createElement(tt.a,{fontSize:"default",onClick:function(a){return e.removeAdmin(t)}}))))}))),r.a.createElement(F.a,{paddingBottom:3}),r.a.createElement(Ae,{label:"Brugernavn",choices:this.state.users,onSelect:function(t){return e.setState({showAddAsAdminButton:!0,addAdminUser:t})}}),r.a.createElement(F.a,{paddingBottom:3}),this.renderAddAdminButton(),r.a.createElement(F.a,{paddingBottom:10})))))))}},{key:"renderAddAdminButton",value:function(){var e=this;return this.state.showAddAsAdminButton?r.a.createElement(h.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:"submit",onClick:function(t){return e.addAdmin()}},"Tilf\xf8j som administrator"):r.a.createElement(F.a,{paddingBottom:2})}},{key:"removeAdmin",value:function(e){var t=this;return new Promise(function(e){return setTimeout(e,250)}).then(function(a){t.state.admins.includes(e)&&t.setState({admins:t.state.admins.filter(function(t){return t!==e}),users:t.state.users.concat([e])})})}},{key:"addAdmin",value:function(){var e=this,t=this.state.addAdminUser;if(t){return null===this.state.addAdminUser?null:new Promise(function(e){return setTimeout(e,250)}).then(function(a){e.state.admins.includes(t)||e.setState({admins:e.state.admins.concat([t]),users:e.state.users.filter(function(e){return e!==t})})})}return null}},{key:"changePassword",value:function(){var e=this;this.setState({passwordChanging:!0});null!==this.state.oldPassword&&null!==this.state.newPassword&&new Promise(function(e){return setTimeout(e,250)}).then(function(t){return e.setState({passwordChanging:!1,passwordChanged:!0,changePasswordMessage:"Hello"})})}}]),t}(r.a.Component),nt=Object(R.a)(function(e){return Object(I.a)({root:{flexGrow:1},card:{paddingBottom:50},title:{textAlign:"center",marginTop:20,marginBottom:5}})})(at),rt=r.a.createElement(s.a,null,r.a.createElement("div",{className:"global"},r.a.createElement(o.b,{exact:!0,path:"/",component:z}),r.a.createElement(o.b,{exact:!0,path:"/signin",component:W}),r.a.createElement(o.b,{exact:!0,path:"/register",component:x}),r.a.createElement(o.b,{exact:!0,path:"/home",render:function(e){return J.set(function(){return new WebSocket("ws://"+Ie+"/ws",P.get("dm874_jwt"))}),r.a.createElement(pe,{child:r.a.createElement(V,null)})}}),r.a.createElement(o.b,{exact:!0,path:"/soogning",render:function(e){return r.a.createElement(pe,{child:r.a.createElement(Re,null)})}}),r.a.createElement(o.b,{exact:!0,path:"/analytics",render:function(e){return r.a.createElement(pe,{child:r.a.createElement(Xe,null)})}}),r.a.createElement(o.b,{exact:!0,path:"/settings",render:function(e){return r.a.createElement(pe,{child:r.a.createElement(nt,null)})}})));i.a.render(rt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){}},[[156,1,2]]]);
//# sourceMappingURL=main.b6fedb4e.chunk.js.map